<%- if @user.present? %>
  <%- cache(user_statistics_cache_key @user) do -%>
  	<%= render :partial => 'statistics/show' %>
  <%- end -%>

  <div id="score">
    <h2>Calibration</h2>
    <%- cache(user_calibration_scores_cache_key @user) do -%>
    	<%= render :partial => 'calibration_scores/show' %>
    <%- end -%>
  </div>

  <div id="predictions">
    <h2><%= show_user(@user) %> has made <%= @count %> predictions. Displaying most recent ones: </h2>

    <%= form_tag @user, method: :get, class: "prediction-filter" do %>
      <%= select_tag :filter, options_for_select([["All", ""], ["Judged", "judged"], ["Unjudged", "unjudged"], ["Future", "future"]]) %>
      <%= submit_tag "Filter list" %>
    <% end %>

    <ul>
      <%= render :partial => @predictions %>
    </ul>
  </div>
  <p class="pagination"><%= paginate @predictions %></p>
<% else %>
  <h2>No user found.</h2>
<% end %>
